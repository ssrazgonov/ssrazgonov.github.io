<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Warhammer 40K Loop Hero</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Game Loader -->
    <div id="gameLoader" class="loader-screen">
        <div class="loader-content">
            <div class="warhammer-logo">
                <h1>WARHAMMER 40,000</h1>
                <h2>RELICT WAR</h2>
            </div>
            <div class="loading-spinner"></div>
            <p class="loading-text">In the grim darkness of the far future...</p>
        </div>
    </div>
    
    <!-- Main Menu -->
    <div id="mainMenu" class="menu-screen" style="display: none;">
        <div class="menu-content">
            <div class="menu-header">
                <h1>WARHAMMER 40,000</h1>
                <h2>RELICT WAR</h2>
            </div>
            <div class="menu-buttons">
                <button id="startGameBtn" class="menu-button primary">Begin the Eternal War</button>
                <button id="infoBtn" class="menu-button">Codex</button>
            </div>
        </div>
    </div>
    
    <!-- Game Setup Screen -->
    <div id="gameSetup" class="menu-screen" style="display: none;">
        <div class="setup-content">
            <h2>Prepare for Battle</h2>
            
            <div class="setup-section">
                <h3>Starting Equipment</h3>
                <div class="equipment-grid">
                    <div class="equipment-slot" data-equipment="medkit">
                        <div class="equipment-icon">‚öï</div>
                        <div class="equipment-name">Medi-Kit</div>
                        <div class="equipment-quantity">x2</div>
                    </div>
                    <div class="equipment-slot" data-equipment="revive">
                        <div class="equipment-icon">‚ö°</div>
                        <div class="equipment-name">Revive Pack</div>
                        <div class="equipment-quantity">x1</div>
                    </div>
                    <div class="equipment-slot" data-equipment="grenade">
                        <div class="equipment-icon">üí£</div>
                        <div class="equipment-name">Frag Grenade</div>
                        <div class="equipment-quantity">x3</div>
                    </div>
                    <div class="equipment-slot" data-equipment="shield">
                        <div class="equipment-icon">üõ°Ô∏è</div>
                        <div class="equipment-name">Energy Shield</div>
                        <div class="equipment-quantity">x1</div>
                    </div>
                    <div class="equipment-slot" data-equipment="stim">
                        <div class="equipment-icon">üíâ</div>
                        <div class="equipment-name">Combat Stim</div>
                        <div class="equipment-quantity">x2</div>
                    </div>
                    <div class="equipment-slot" data-equipment="scanner">
                        <div class="equipment-icon">üì°</div>
                        <div class="equipment-name">Tactical Scanner</div>
                        <div class="equipment-quantity">x1</div>
                    </div>
                </div>
            </div>
            
            <div class="setup-section">
                <h3>Emperor's Seal</h3>
                <div class="seal-grid">
                    <div class="seal-slot" data-seal="shield">
                        <div class="seal-icon">üõ°Ô∏è</div>
                        <div class="seal-name">Protection</div>
                    </div>
                    <div class="seal-slot" data-seal="strength">
                        <div class="seal-icon">‚öîÔ∏è</div>
                        <div class="seal-name">Strength</div>
                    </div>
                    <div class="seal-slot" data-seal="speed">
                        <div class="seal-icon">‚ö°</div>
                        <div class="seal-name">Swiftness</div>
                    </div>
                    <div class="seal-slot" data-seal="wisdom">
                        <div class="seal-icon">üß†</div>
                        <div class="seal-name">Wisdom</div>
                    </div>
                </div>
            </div>
            
            <div class="setup-actions">
                <button id="backToMenuBtn" class="menu-button">Return</button>
                <button id="startExpeditionBtn" class="menu-button primary">Begin Expedition</button>
            </div>
        </div>
    </div>
    
    <!-- Equipment/Seal Info Modal -->
    <div id="equipmentModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Equipment Info</h3>
                <button class="modal-close" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-icon-container">
                    <div id="modalIcon" class="modal-icon"></div>
                </div>
                <div class="modal-info">
                    <h4 id="modalName">Equipment Name</h4>
                    <p id="modalDescription">Equipment description goes here...</p>
                    <div id="modalEffects" class="modal-effects"></div>
                </div>
            </div>
            <div class="modal-actions">
                <button id="equipButton" class="equip-button">Equip</button>
            </div>
        </div>
    </div>
    
    <!-- Game Container (simplified for grid system) -->
    <div class="game-container wh40k-panel" id="gameContainer" style="display: none;">
        <div class="game-header wh40k-border">
            <h1 class="wh40k-title" style="font-size: 1.8rem; margin: 0;">WARHAMMER 40K GRID TACTICS</h1>
            <!-- Resource Display -->
            <div class="resource-display">
                <div class="resource-item">
                    <span class="resource-icon">üß¨</span>
                    <span class="resource-value" id="biomassCount">0</span>
                </div>
                <div class="resource-item">
                    <span class="resource-icon">‚öôÔ∏è</span>
                    <span class="resource-value" id="scrapCount">0</span>
                </div>
                <div class="resource-item">
                    <span class="resource-icon">üíé</span>
                    <span class="resource-value" id="warpstoneCount">0</span>
                </div>
            </div>
            
            <!-- Character Stats (moved from bottom) -->
            <div class="character-stats-compact" style="display: flex; gap: 10px; align-items: center; margin-left: 15px;">
                <div class="hp-display" style="display: flex; align-items: center; gap: 5px;">
                    <span style="color: #ff6666; font-size: 0.9rem;">‚ù§Ô∏è</span>
                    <span id="charHP" style="color: #ff6666; font-weight: bold;">100</span>/<span id="charMaxHP" style="color: #ccc;">100</span>
                </div>
                <div class="shield-display" style="display: flex; align-items: center; gap: 5px;">
                    <span style="color: #00ccff; font-size: 0.9rem;">üõ°Ô∏è</span>
                    <span id="charShield" style="color: #00ccff; font-weight: bold;">50</span>/<span id="charMaxShield" style="color: #ccc;">50</span>
                </div>
                <div class="stat-compact" style="display: flex; gap: 8px; font-size: 0.85rem;">
                    <span style="color: #ff8888;">‚öîÔ∏è<span id="charAttack">10</span></span>
                    <span style="color: #88ccff;">üõ°Ô∏è<span id="charDefense">5</span></span>
                    <span style="color: #88ff88;">‚ö°<span id="charSpeed">1.0</span></span>
                </div>
            </div>
            
            
            <div class="resources" style="gap: 15px; align-items: center;">
                <div class="resource resource-display" id="biomass">
                    <div class="resource-icon resource-biomass"></div>
                    <span class="wh40k-text">Biomass: <span style="color: #88ff88; font-weight: bold;">0</span></span>
                </div>
                <div class="resource resource-display" id="scrap">
                    <div class="resource-icon resource-scrap"></div>
                    <span class="wh40k-text">Scrap: <span style="color: #ffaa66; font-weight: bold;">0</span></span>
                </div>
                <div class="resource resource-display" id="warpstone">
                    <div class="resource-icon resource-warpstone"></div>
                    <span class="wh40k-text">Warpstone: <span style="color: #8888ff; font-weight: bold;">0</span></span>
                </div>
                <div class="resource resource-display" id="combatPoints">
                    <div class="resource-icon" style="background: linear-gradient(45deg, #ff6600, #ffaa00);">‚öîÔ∏è</div>
                    <span class="wh40k-text">Combat Points: <span style="color: #ff6600; font-weight: bold;">0</span></span>
                </div>
            </div>
            <div class="stats" style="gap: 15px; align-items: center;">
                <div class="stat resource-display" id="day">
                    <span class="wh40k-text">Day: <span style="color: #ffcc00; font-weight: bold;">1</span></span>
                </div>
                <div class="stat resource-display" id="loop">
                    <span class="wh40k-text">Loop: <span style="color: #ffcc00; font-weight: bold;">0</span></span>
                </div>
            </div>
        </div>
        
        <div class="game-area" style="flex: 1; display: flex; justify-content: center; align-items: center; padding: 10px;">
            <canvas id="gameCanvas" style="border: 3px solid #bb0000; border-radius: 8px; box-shadow: 0 0 30px rgba(187, 0, 0, 0.4), inset 0 0 20px rgba(0, 0, 0, 0.6); max-width: 100%; max-height: 100%;"></canvas>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/constants.js"></script>
    <script src="js/utils.js"></script>
    <!-- Re-enabled complex systems -->
    <script src="js/classes/entity.js"></script>
    <script src="js/classes/item.js"></script>
    <script src="js/classes/character.js"></script>
    <script src="js/classes/enemy.js"></script>
    <script src="js/classes/tile.js"></script>
    <script src="js/classes/card.js"></script>
    <!-- New systems -->
    <script src="js/classes/relic.js"></script>
    <script src="js/classes/base.js"></script>
            <script src="js/classes/crafting.js"></script>
        <script src="js/classes/heroUpgrade.js"></script>
        <script src="js/classes/combat.js"></script>
        <script src="js/classes/battlefieldCard.js"></script>
        <script src="js/mapGenerator.js"></script>
    <script src="js/gameManager.js"></script>
    <script src="js/uiManager.js"></script>
    <script src="js/inventoryUI.js"></script>
    <script src="js/upgradeManager.js"></script>
    <script src="js/gridGameManager.js"></script>
    <script src="js/menuManager.js"></script>
    <script src="js/achievementManager.js"></script>
    <script src="js/main.js"></script>
</body>
</html>